# 1、事务的概念

~~~
单个逻辑的执行，要么全部成功，要么全部失败
~~~

## 1、事务的四大特性

~~~
1、原子性（undoLog）
	涉及到 回滚操作 需要通过 undoLog 保证
2、一致性 （其他三个共同保证）
3、隔离性（锁 + MVCC）
4、持久性（redoLog）
	把数据写入到 磁盘之前 先写 redoLog 日志写入成功就算成功
~~~

![img](https://img-blog.csdnimg.cn/6bc3366053664af8b9427f97dc9b3eb3.png)

## 2、事务的传播级别

~~~
1、NEVER : 以非事务的方式执行,如果当前存在事务,则会抛出异常.
2、NOT_SUPPORTED : 以非事务的方式执行操作,如果当前存在事务,就把当前事务挂起.
3、SUPPORTED : 支持当前事务,如果没有事务,就以非事务（即数据库事物）的方式执行.
4、REQUIRED（default） : 支持当前事务,如果当前没有事务,则新建一个事务,默认使用这种,也是最常见的.
5、REQUIRES_NEW : 新建事务,如果当前存在事务,就把当前事务挂起.
6、MANDATORY : 支持当前事务,如果没有事务,就抛出异常.

7、NESTED : 如果当前事务存在，则执行嵌套事务，否则执行类似REQUIRED的操作.
~~~

