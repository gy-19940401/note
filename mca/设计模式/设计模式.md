# 1、设计模式的作用

## 1、提高开发的效率

## 2、提高代码的复用

# 2、设计模式的原则

~~~
1、依赖倒置(继承) --> 面向接口编程

2、里氏替换(多态) --> 子类可以扩展父类的功能，但不能改变原有父类的功能

3、单一职责(拆分) --> 一个类或者一个方法只负责一项职责，尽量做到类的只有一个行为原因引起变化

4、迪米特  (解耦) --> 最少知道原则，尽量降低类与类之间的耦合

5、开闭原则(扩展) --> 对扩展开放，对修改关闭

6、接口隔离(扩展) --> 建立单一接口


~~~

# 3、设计模式的分类

## 1、创建型模式

~~~
1、工厂模式
2、单列模式
3、原型模式
4、建造者模式 --> mybatis SqlSessionFactoryBuilder SqlSessionFactory
~~~

### 1、[单列模式](../设计模式/create/1-单列模式.md)

~~~
1、懒汉式 ： 线程不安全
2、饿汉式 ： 实列化可能不会使用的对象；
3、DCL   ： 防止指令重排（volatile(jvm 代码乱序执行) ； final??）
4、静态内部类
5、枚举 ：final + static 

序列化与反序列化 破解 单列 -- 反序列化时调用这个方法
private Object readResolve(){
	return instance;
}

应用
	1、spring --> bean
	2、spring --> 工厂类(beanFactory)
	3、spring --> 保存配置文件的对象
	4、数据库连接池 -->  
~~~



### 2、[工厂模式](../设计模式/create/2-工厂模式.md)

~~~
简单工厂 --> 不利于扩展产品，如果需要扩展产品，需要修改代码
工厂方法 --> 扩展简单工厂 
抽象工厂 --> 产品族 扩展工厂方法
~~~

### 3、[建造者模式（复杂对象创建）](../设计模式/create/4-建造者模式.md)

~~~
1、解决复杂对象的创建

案例
	1、SqlSessionFactoryBuilder()
	2、
~~~



### 4、[原型模式（克隆模式）](../设计模式/create/3-原型模式.md)

~~~
快速创建对象（copy）

浅拷贝 : 仅拷贝对象本身的数据
深拷贝 : 拷贝对象本身 + 全部相关的引用

序列化 && 反序列化

能否破解单列？？
~~~



## 2、结构型模式

~~~
1、代理模式 --> 静态代理 动态代理(JDK ; cglib)
2、组合模式 --> 
3、享元模式
4、桥接模式 ???
5、桥接模式 ???
6、装饰器模式
7、适配器模式
~~~

### 1、代理模式

~~~
1、作用：对 目标对象 进行增强；

2、实现
	1、静态代理
	2、jdk 动态代理
	3、cglib 动态代理

3、使用
	aop
	mapper
~~~

### 2、[适配器模式](../设计模式/struct/6-适配器模式.md)

~~~
1、日志框架
	slf4j
~~~

### 3、装饰器模式

~~~
1、mybaties cache

类似于 代理模式
~~~

### 4、门面模式

~~~
将功能封装 对外提供接口
~~~



### 5、桥接模式

~~~
替代多继承关系，提高扩展性
~~~

![image-20221025222718051](C:\Users\CSB7D0\Desktop\mca\typroImage\image-20221025222718051.png)

### 6、享元模式

~~~
1、将对象 分成 共享部分 + 非共享部分
~~~

### 7、组合模式

~~~

~~~



## 3、行为型模式

~~~
1、责任链模式 --> 过滤器，拦截器
2、迭代器模式
3、观察者模式 --> 发布订阅
4、解释器模式
5、模板模式
6、命令模式
7、备忘录模式
8、策略模式
~~~

### 1、责任链模式

~~~

~~~

### 2、策略模式

~~~

~~~

### 3、观察者模式（订阅发布）

~~~
监听器 Listener
~~~

### 4、迭代器模式

~~~

~~~

### 5、模板方法

~~~

~~~

